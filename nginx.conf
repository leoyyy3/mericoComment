server {
    listen 8080;
    server_name localhost;

    # 设置根目录为output
    root /app/output;
    
    # 启用目录浏览
    autoindex on;
    autoindex_exact_size off;
    autoindex_localtime on;
    
    # 设置默认首页
    index duplicate_functions_report_latest.html index.html;

    # 字符集
    charset utf-8;

    # 日志
    access_log /var/log/nginx/access.log;
    error_log /var/log/nginx/error.log;

    # 静态文件缓存
    location ~* \.(html|css|js|json|csv)$ {
        expires 1h;
        add_header Cache-Control "public, must-revalidate";
    }

    # 处理404
    error_page 404 /404.html;
    location = /404.html {
        internal;
    }
}
